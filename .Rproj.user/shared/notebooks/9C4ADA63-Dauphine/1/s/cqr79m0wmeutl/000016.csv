"0","## crate variable for looking at previous TDF results"
"0","dat[, Rnk.Tour.prev := shift(Rnk.Tour), by = Rider]"
"0","dat <- dat[, c(""Year"", ""Rider"", ""Rnk.Dauphine"", ""Rnk.TourDeSuisse"", ""Rnk.Tour.prev"", ""Rnk.Tour"")]"
"0","#top10"
"0","## Dauphine"
"0","top10_D <-  nrow(dat[Rnk.Dauphine %in% c(1:10) & Rnk.Tour %in% c(1:10), ]) / nrow(dat[Rnk.Dauphine %in% c(1:10), ])"
"0","## Tour De Suisse"
"0","top10_S <- nrow(dat[Rnk.TourDeSuisse %in% c(1:10) & Rnk.Tour %in% c(1:10), ]) / nrow(dat[Rnk.TourDeSuisse %in% c(1:10), ])"
"0","## Previous performance at The Tour"
"0","top10_T <- nrow(dat[Rnk.Tour.prev %in% c(1:10) & Rnk.Tour %in% c(1:10), ]) / nrow(dat[Rnk.Tour.prev %in% c(1:10), ])"
"0","#podium "
"0","## Dauphine"
"0","top3_D <-  nrow(dat[Rnk.Dauphine %in% c(1:3) & Rnk.Tour %in% c(1:3), ]) / nrow(dat[Rnk.Dauphine %in% c(1:3), ])"
"0","## Tour De Suisse"
"0","top3_S <- nrow(dat[Rnk.TourDeSuisse %in% c(1:3) & Rnk.Tour %in% c(1:3), ]) / nrow(dat[Rnk.TourDeSuisse %in% c(1:3), ])"
"0","## Previous performance at The Tour"
"0","top3_T <- nrow(dat[Rnk.Tour.prev %in% c(1:3) & Rnk.Tour %in% c(1:3), ]) / nrow(dat[Rnk.Tour.prev %in% c(1:3), ])"
"0","#top 1"
"0","## Dauphine"
"0","top1_D <-  nrow(dat[Rnk.Dauphine %in% c(1) & Rnk.Tour %in% c(1), ]) / nrow(dat[Rnk.Dauphine %in% c(1), ])"
"0","## Tour De Suisse"
"0","top1_S <- nrow(dat[Rnk.TourDeSuisse %in% c(1) & Rnk.Tour %in% c(1), ]) / nrow(dat[Rnk.TourDeSuisse %in% c(1), ])"
"0","## Previous performance at The Tour"
"0","top1_T <- nrow(dat[Rnk.Tour.prev %in% c(1) & Rnk.Tour %in% c(1), ]) / nrow(dat[Rnk.Tour.prev %in% c(1), ])"
"0","df <- data.frame(top10 = round(c(top10_D, top10_S, top10_T)*100, 0), top3 = round(c(top3_D, top3_S, top3_T)*100,0), top1 = round(c(top1_D, top1_S, top1_T)*100,0))"
"0","rownames(df) <- c(""Dauphine"", ""Tour De Suisse"", ""Last year's position at The Tour"")"
"0","datatable(df)"
